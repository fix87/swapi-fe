import{b as H,c as Q,d as W,e as X,f as Y,g as Z}from"./chunk-XDLNSYOD.js";import{b as U,c as j,d as V,e as $,f as B,g as A,h as z,j as N,k as D,l as J,m as K}from"./chunk-63Y3PRUE.js";import{B as x,C,Ca as E,G as F,Ga as y,H as b,Ha as S,Ma as M,P as m,Q as _,Ra as I,Ta as q,Ua as G,Wa as T,X as a,_ as s,da as o,ea as i,fa as d,ia as L,ka as w,la as c,oa as u,p as R,pa as l,qa as O,ra as v,ta as k,x as h}from"./chunk-22BGJTN5.js";function ae(e,t){e&1&&d(0,"app-main-loader")}function me(e,t){if(e&1){let n=L();o(0,"button",8),w("click",function(){let f=F(n).$implicit,g=c(2);return b(g.goToFilmDetail(f.url))}),l(1),i()}if(e&2){let n=t.$implicit;m(1),v(" ",n.title," ")}}function pe(e,t){if(e&1){let n=L();o(0,"div",2)(1,"div",3)(2,"div",4),s(3,me,2,1,"button",5),o(4,"div",6)(5,"button",7),w("click",function(){F(n);let r=c();return b(r.previousPage())}),l(6," Prev "),i(),o(7,"button",7),w("click",function(){F(n);let r=c();return b(r.nextPage())}),l(8," Next "),i()()()()()}if(e&2){let n=c();m(3),a("ngForOf",n.films),m(2),a("disabled",!n.isPreviousPagePresent),m(2),a("disabled",!n.isNextPagePresent)}}var ee=(()=>{let t=class t{get showLoader(){return this._showLoader}get films(){return this.filmsResponse.results}get isNextPagePresent(){return!!this.filmsResponse.next}get isPreviousPagePresent(){return!!this.filmsResponse.previous}get totalResults(){return this.filmsResponse.count}constructor(p,r,f){this.dataService=p,this.router=r,this.activatedRoute=f,this._showLoader=!1,this.filmsResponse={count:0,next:"",previous:"",results:[]}}ngOnInit(){this.getFilms(this.dataService.rootEntrypoints.films)}getFilms(p){this._showLoader=!0,this.dataService.getItems(p).pipe(R(()=>this._showLoader=!1)).subscribe(r=>this.filmsResponse=r)}nextPage(){this.getFilms(this.filmsResponse.next)}previousPage(){this.getFilms(this.filmsResponse.previous)}getId(p){let r=p.split("/");return r.at(r.length-2)||""}goToFilmDetail(p){let r=this.getId(p);r?this.router.navigate([r],{relativeTo:this.activatedRoute}):console.log("No detail for this film")}};t.\u0275fac=function(r){return new(r||t)(_(N),_(q),_(I))},t.\u0275cmp=x({type:t,selectors:[["app-films-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["filmsTemplate",""],[1,"row"],[1,"col-xl-4","offset-xl-4","col-lg-6","offset-lg-3","col-md-8","offset-md-2"],[1,"list-group","text-center"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-2"],["type","button",1,"btn","btn-outline-light","border-light-subtle",3,"disabled","click"],["type","button",1,"list-group-item","list-group-item-action",3,"click"]],template:function(r,f){if(r&1&&s(0,ae,1,0,"app-main-loader",0)(1,pe,9,3,"ng-template",null,1,E),r&2){let g=u(2);a("ngIf",f.showLoader)("ngIfElse",g)}},dependencies:[y,S,D]});let e=t;return e})();function se(e,t){e&1&&d(0,"app-main-loader")}function ce(e,t){if(e&1&&(o(0,"div",2)(1,"dt",13),l(2,"Producer"),i(),o(3,"dd",14),l(4),i(),o(5,"dt",13),l(6,"Director"),i(),o(7,"dd",14),l(8),i(),o(9,"dt",13),l(10,"Release Date"),i(),o(11,"dd",14),l(12),i(),o(13,"dt",13),l(14,"Opening crawl"),i(),o(15,"dd",14),l(16),i()()),e&2){let n=c(2);m(4),v(" ",n.film.producer," "),m(4),v(" ",n.film.director," "),m(4),v(" ",n.film.release_date," "),m(4),v(" ",n.film.opening_crawl," ")}}function de(e,t){if(e&1&&d(0,"app-people-preview",18),e&2){let n=t.$implicit;a("personUrl",n)}}function fe(e,t){if(e&1&&(o(0,"div",2)(1,"div",15)(2,"p"),l(3,"List of characters that are in this film"),i(),o(4,"div",16),s(5,de,1,1,"app-people-preview",17),i()()()),e&2){let n=c(2);m(5),a("ngForOf",n.film.characters)}}function _e(e,t){if(e&1&&d(0,"app-planet-preview",20),e&2){let n=t.$implicit;a("planetUrl",n)}}function ve(e,t){if(e&1&&(o(0,"div",2)(1,"div",15)(2,"p"),l(3,"List of planets that are in this film"),i(),o(4,"div",16),s(5,_e,1,1,"app-planet-preview",19),i()()()),e&2){let n=c(2);m(5),a("ngForOf",n.film.planets)}}function ge(e,t){if(e&1&&d(0,"app-specie-preview",22),e&2){let n=t.$implicit;a("specieUrl",n)}}function ue(e,t){if(e&1&&(o(0,"div",2)(1,"div",15)(2,"p"),l(3,"List of species that are in this film"),i(),o(4,"div",16),s(5,ge,1,1,"app-specie-preview",21),i()()()),e&2){let n=c(2);m(5),a("ngForOf",n.film.species)}}function he(e,t){if(e&1&&d(0,"app-starship-preview",24),e&2){let n=t.$implicit;a("starshipUrl",n)}}function xe(e,t){if(e&1&&(o(0,"div",2)(1,"div",15)(2,"p"),l(3,"List of starships that are in this film"),i(),o(4,"div",16),s(5,he,1,1,"app-starship-preview",23),i()()()),e&2){let n=c(2);m(5),a("ngForOf",n.film.starships)}}function Ce(e,t){if(e&1&&d(0,"app-vehicle-preview",26),e&2){let n=t.$implicit;a("vehicleUrl",n)}}function Fe(e,t){if(e&1&&(o(0,"div",2)(1,"div",15)(2,"p"),l(3,"List of vehicles that are in this film"),i(),o(4,"div",16),s(5,Ce,1,1,"app-vehicle-preview",25),i()()()),e&2){let n=c(2);m(5),a("ngForOf",n.film.vehicles)}}var be=()=>["../"];function we(e,t){if(e&1&&(o(0,"div",2)(1,"div",3)(2,"a",4),d(3,"i",5),l(4," Films"),i()()(),o(5,"div",2)(6,"div",3)(7,"h1",6),l(8),i(),o(9,"ul",7,8)(11,"li",9)(12,"button",10),l(13,"Details"),i(),s(14,ce,17,4,"ng-template",11),i(),o(15,"li",9)(16,"button",10),l(17,"Characters"),i(),s(18,fe,6,1,"ng-template",11),i(),o(19,"li",9)(20,"button",10),l(21,"Planets"),i(),s(22,ve,6,1,"ng-template",11),i(),o(23,"li",9)(24,"button",10),l(25,"Species"),i(),s(26,ue,6,1,"ng-template",11),i(),o(27,"li",9)(28,"button",10),l(29,"Starships"),i(),s(30,xe,6,1,"ng-template",11),i(),o(31,"li",9)(32,"button",10),l(33,"Vehicles"),i(),s(34,Fe,6,1,"ng-template",11),i()(),d(35,"div",12),i()()),e&2){let n=u(10),p=c();m(2),a("routerLink",k(9,be)),m(6),O(p.film.title),m(3),a("ngbNavItem",1),m(4),a("ngbNavItem",2),m(4),a("ngbNavItem",3),m(4),a("ngbNavItem",4),m(4),a("ngbNavItem",5),m(4),a("ngbNavItem",6),m(4),a("ngbNavOutlet",n)}}var te=(()=>{let t=class t{constructor(p,r){this.activatedRoute=p,this.dataService=r,this.filmId=this.activatedRoute.snapshot.params.id}ngOnInit(){this.getFilmDetail()}getFilmDetail(){this.dataService.getItem(`${this.dataService.rootEntrypoints.films}${this.filmId}`).subscribe(p=>this.film=p)}};t.\u0275fac=function(r){return new(r||t)(_(I),_(N))},t.\u0275cmp=x({type:t,selectors:[["app-film-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["filmTemplate",""],[1,"row"],[1,"col-12"],[1,"link-secondary",3,"routerLink"],[1,"bi","bi-arrow-left"],[1,"text-center"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"detail-nav-link"],["ngbNavContent",""],[1,"mt-4",3,"ngbNavOutlet"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"col-4","m-auto","text-center"],[1,"list-group"],[3,"personUrl",4,"ngFor","ngForOf"],[3,"personUrl"],[3,"planetUrl",4,"ngFor","ngForOf"],[3,"planetUrl"],[3,"specieUrl",4,"ngFor","ngForOf"],[3,"specieUrl"],[3,"starshipUrl",4,"ngFor","ngForOf"],[3,"starshipUrl"],[3,"vehicleUrl",4,"ngFor","ngForOf"],[3,"vehicleUrl"]],template:function(r,f){if(r&1&&s(0,se,1,0,"app-main-loader",0)(1,we,36,10,"ng-template",null,1,E),r&2){let g=u(2);a("ngIf",!f.film)("ngIfElse",g)}},dependencies:[y,S,G,D,U,$,V,j,A,B,z,Q,W,X,H,Y]});let e=t;return e})();var Ee=[{path:"",children:[{path:"",component:ee},{path:":id",component:te}]}],ie=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=C({type:t}),t.\u0275inj=h({imports:[T.forChild(Ee),T]});let e=t;return e})();var We=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=C({type:t}),t.\u0275inj=h({imports:[M,ie,J,K,Z]});let e=t;return e})();export{We as FilmsModule};

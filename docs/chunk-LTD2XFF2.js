import{a as X,b as Z,g as ie}from"./chunk-XDLNSYOD.js";import{b as $,c as A,d as z,e as W,f as G,g as q,h as J,j as R,k as F,l as ee,m as te}from"./chunk-63Y3PRUE.js";import{B as C,C as S,Ca as P,E as j,G as x,Ga as N,H as v,Ha as D,Ma as T,P as p,Q as g,Ra as k,Sa as K,Ta as L,Ua as Q,Wa as V,X as s,_ as c,da as r,ea as o,fa as f,ga as M,ha as O,ia as I,ka as h,la as m,oa as u,p as w,pa as l,qa as B,ra as _,ta as H,va as Y,wa as U,x as b}from"./chunk-22BGJTN5.js";var oe=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=C({type:t,selectors:[["app-people"]],decls:1,vars:0,template:function(n,d){n&1&&f(0,"router-outlet")},dependencies:[K]});let e=t;return e})();function _e(e,t){e&1&&f(0,"app-main-loader")}function fe(e,t){if(e&1){let a=I();r(0,"button",8),h("click",function(){let d=x(a).$implicit,y=m(2);return v(y.goToPersonDetail(d.url))}),l(1),o()}if(e&2){let a=t.$implicit;p(1),_(" ",a.name," ")}}function ge(e,t){if(e&1){let a=I();r(0,"div",2)(1,"div",3)(2,"div",4),c(3,fe,2,1,"button",5),r(4,"div",6)(5,"button",7),h("click",function(){x(a);let n=m();return v(n.previousPage())}),l(6," Prev "),o(),r(7,"button",7),h("click",function(){x(a);let n=m();return v(n.nextPage())}),l(8," Next "),o()()()()()}if(e&2){let a=m();p(3),s("ngForOf",a.people),p(2),s("disabled",!a.isPreviousPagePresent),p(2),s("disabled",!a.isNextPagePresent)}}var re=(()=>{let t=class t{get showLoader(){return this._showLoader}get people(){return this.peopleResponse.results}get isNextPagePresent(){return!!this.peopleResponse.next}get isPreviousPagePresent(){return!!this.peopleResponse.previous}get totalResults(){return this.peopleResponse.count}constructor(i,n,d){this.dataService=i,this.router=n,this.activatedRoute=d,this._showLoader=!1,this.peopleResponse={count:0,next:"",previous:"",results:[]}}ngOnInit(){this.getPeople(this.dataService.rootEntrypoints.people)}getPeople(i){this._showLoader=!0,this.dataService.getItems(i).pipe(w(()=>this._showLoader=!1)).subscribe(n=>this.peopleResponse=n)}nextPage(){this.getPeople(this.peopleResponse.next)}previousPage(){this.getPeople(this.peopleResponse.previous)}getId(i){let n=i.split("/");return n.at(n.length-2)||""}goToPersonDetail(i){let n=this.getId(i);n?this.router.navigate([n],{relativeTo:this.activatedRoute}):console.log("No detail for this person")}};t.\u0275fac=function(n){return new(n||t)(g(R),g(L),g(k))},t.\u0275cmp=C({type:t,selectors:[["app-people-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["peopleTemplate",""],[1,"row"],[1,"col-xl-4","offset-xl-4","col-lg-6","offset-lg-3","col-md-8","offset-md-2"],[1,"list-group","text-center"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-2"],["type","button",1,"btn","btn-outline-light","border-light-subtle",3,"disabled","click"],["type","button",1,"list-group-item","list-group-item-action",3,"click"]],template:function(n,d){if(n&1&&c(0,_e,1,0,"app-main-loader",0)(1,ge,9,3,"ng-template",null,1,P),n&2){let y=u(2);s("ngIf",d.showLoader)("ngIfElse",y)}},dependencies:[N,D,F]});let e=t;return e})();var ae=(()=>{let t=class t{transform(i){return i.replace("BBY"," Before Battle of Yavin").replace("ABY"," After Battle of Yavin")}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=j({name:"YavinBattle",type:t,pure:!0});let e=t;return e})();function xe(e,t){e&1&&f(0,"app-main-loader")}function ve(e,t){if(e&1){let a=I();r(0,"button",18),h("click",function(){x(a);let n=m(4);return v(n.goToSpecieDetail(n.specie.url))}),l(1),o()}if(e&2){let a=m(4);p(1),_(" ",a.planet.name," ")}}function he(e,t){if(e&1&&(M(0),c(1,ve,2,1,"button",17),O()),e&2){m();let a=u(39),i=m(2);p(1),s("ngIf",i.specie)("ngIfElse",a)}}function be(e,t){if(e&1){let a=I();r(0,"button",18),h("click",function(){x(a);let n=m(4);return v(n.goToPlanetDetail(n.planet.url))}),l(1),o()}if(e&2){let a=m(4);p(1),_(" ",a.planet.name," ")}}function Ce(e,t){if(e&1&&(M(0),c(1,be,2,1,"button",17),O()),e&2){m();let a=u(39),i=m(2);p(1),s("ngIf",i.planet)("ngIfElse",a)}}function Se(e,t){e&1&&l(0,"N/A")}function Ie(e,t){e&1&&(r(0,"div",19),f(1,"span",20),o())}function Pe(e,t){if(e&1&&(r(0,"div",2)(1,"dt",13),l(2,"Date of birth"),o(),r(3,"dd",14),l(4),Y(5,"YavinBattle"),o(),r(6,"dt",13),l(7,"Gender"),o(),r(8,"dd",14),l(9),o(),r(10,"dt",13),l(11,"Height"),o(),r(12,"dd",14),l(13),o(),r(14,"dt",13),l(15,"Mass"),o(),r(16,"dd",14),l(17),o(),r(18,"dt",13),l(19,"Hair color"),o(),r(20,"dd",14),l(21),o(),r(22,"dt",13),l(23,"Eye volor"),o(),r(24,"dd",14),l(25),o(),r(26,"dt",13),l(27,"Skin color"),o(),r(28,"dd",14),l(29),o(),r(30,"dt",13),l(31,"Specie"),o(),r(32,"dd",14),c(33,he,2,2,"ng-container",0),o(),r(34,"dt",13),l(35,"Homeworld"),o(),r(36,"dd",14),c(37,Ce,2,2,"ng-container",0),o(),c(38,Se,1,0,"ng-template",null,15,P)(40,Ie,2,0,"ng-template",null,16,P),o()),e&2){let a=u(41),i=m(2);p(4),_(" ",U(5,11,i.person.birth_year)," "),p(5),_(" ",i.person.gender," "),p(4),_("",i.person.height," cm"),p(4),_("",i.person.mass," kg"),p(4),_(" ",i.person.hair_color," "),p(4),_(" ",i.person.eye_color," "),p(4),_(" ",i.person.skin_color," "),p(4),s("ngIf",!i.loadingSpecie)("ngIfElse",a),p(4),s("ngIf",!i.loadingPlanet)("ngIfElse",a)}}function Ee(e,t){if(e&1&&f(0,"app-film-preview",24),e&2){let a=t.$implicit;s("filmUrl",a)}}function ye(e,t){if(e&1&&(r(0,"div",2)(1,"div",21)(2,"p"),l(3,"List of films that this person has been in"),o(),r(4,"div",22),c(5,Ee,1,1,"app-film-preview",23),o()()()),e&2){let a=m(2);p(5),s("ngForOf",a.person.films)}}function we(e,t){if(e&1&&f(0,"app-starship-preview",26),e&2){let a=t.$implicit;s("starshipUrl",a)}}function Ne(e,t){if(e&1&&(r(0,"div",2)(1,"div",21)(2,"p"),l(3,"List of starships that this person has piloted"),o(),r(4,"div",22),c(5,we,1,1,"app-starship-preview",25),o()()()),e&2){let a=m(2);p(5),s("ngForOf",a.person.starships)}}var De=()=>["../"];function Te(e,t){if(e&1&&(r(0,"div",2)(1,"div",3)(2,"a",4),f(3,"i",5),l(4," People"),o()()(),r(5,"div",2)(6,"div",3)(7,"h1",6),l(8),o(),r(9,"ul",7,8)(11,"li",9)(12,"button",10),l(13,"Details"),o(),c(14,Pe,42,13,"ng-template",11),o(),r(15,"li",9)(16,"button",10),l(17,"Films"),o(),c(18,ye,6,1,"ng-template",11),o(),r(19,"li",9)(20,"button",10),l(21,"Starships"),o(),c(22,Ne,6,1,"ng-template",11),o()(),f(23,"div",12),o()()),e&2){let a=u(10),i=m();p(2),s("routerLink",H(7,De)),p(6),B(i.person.name),p(1),s("destroyOnHide",!1),p(2),s("ngbNavItem",1),p(4),s("ngbNavItem",2),p(4),s("ngbNavItem",3),p(4),s("ngbNavOutlet",a)}}var le=(()=>{let t=class t{constructor(i,n,d){this.activatedRoute=i,this.dataService=n,this.router=d,this.loadingPlanet=!1,this.loadingSpecie=!1,this.peopleId=this.activatedRoute.snapshot.params.id}ngOnInit(){this.getPersonDetail()}getPersonDetail(){this.dataService.getItem(`${this.dataService.rootEntrypoints.people}${this.peopleId}`).subscribe(i=>{this.person=i,this.person.homeworld&&this.getHomeWorldDetail(),this.person.species.length&&this.getSpecieDetail()})}getHomeWorldDetail(){this.loadingPlanet=!0,this.dataService.getItem(this.person.homeworld).pipe(w(()=>this.loadingPlanet=!1)).subscribe(i=>this.planet=i)}getSpecieDetail(){this.loadingSpecie=!0,this.dataService.getItem(this.person.species[0]).pipe(w(()=>this.loadingSpecie=!1)).subscribe(i=>this.specie=i)}getId(i){let n=i.split("/");return n.at(n.length-2)||""}goToPlanetDetail(i){let n=this.getId(i);n?this.router.navigate(["/","planets",n]):console.log("No detail for this planet")}goToSpecieDetail(i){let n=this.getId(i);n?this.router.navigate(["/","species",n]):console.log("No detail for this specie")}};t.\u0275fac=function(n){return new(n||t)(g(k),g(R),g(L))},t.\u0275cmp=C({type:t,selectors:[["app-people-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["personTemplate",""],[1,"row"],[1,"col-12"],[1,"link-secondary",3,"routerLink"],[1,"bi","bi-arrow-left"],[1,"text-center"],["ngbNav","",1,"nav-tabs",3,"destroyOnHide"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"detail-nav-link"],["ngbNavContent",""],[1,"mt-4",3,"ngbNavOutlet"],[1,"col-sm-4"],[1,"col-sm-8"],["naTemplate",""],["placeholderTemplate",""],["type","button","class","btn btn-link p-0 border-0",3,"click",4,"ngIf","ngIfElse"],["type","button",1,"btn","btn-link","p-0","border-0",3,"click"],[1,"placeholder-glow"],[1,"placeholder","w-25"],[1,"col-4","m-auto","text-center"],[1,"list-group"],[3,"filmUrl",4,"ngFor","ngForOf"],[3,"filmUrl"],[3,"starshipUrl",4,"ngFor","ngForOf"],[3,"starshipUrl"]],template:function(n,d){if(n&1&&c(0,xe,1,0,"app-main-loader",0)(1,Te,24,8,"ng-template",null,1,P),n&2){let y=u(2);s("ngIf",!d.person)("ngIfElse",y)}},dependencies:[N,D,Q,F,$,W,z,A,q,G,J,X,Z,ae]});let e=t;return e})();var ke=[{path:"",component:oe,children:[{path:"",component:re},{path:":id",component:le}]}],pe=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=S({type:t}),t.\u0275inj=b({imports:[V.forChild(ke),V]});let e=t;return e})();var se=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=S({type:t}),t.\u0275inj=b({imports:[T]});let e=t;return e})();var lt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=S({type:t}),t.\u0275inj=b({imports:[T,pe,ee,te,se,ie]});let e=t;return e})();export{lt as PeopleModule};
